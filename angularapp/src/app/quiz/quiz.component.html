<div #quiz>
  <mat-accordion>

    <mat-expansion-panel [expanded]="currentQ === i" hideToggle  *ngFor="let omen of omens ; let i = index"
      [attr.data-index]="i" (opened)="setStep(i)">
      <mat-expansion-panel-header>
        <mat-panel-title>
          {{ omen.protasis }} &ndash;
        </mat-panel-title>
      </mat-expansion-panel-header>
      <mat-selection-list #answer [multiple]="false" [(ngModel)]="selectedAnswer" [ngModelOptions]="{standalone: true}">
          <mat-list-option *ngFor="let opt of omen.options" [value]="opt">
            {{opt}}
          </mat-list-option>
        </mat-selection-list>
      <mat-action-row *ngIf="answered[i] === ''">
        <button mat-button color="primary" (click)="submitAnswer(i)" [disabled]="!answer.selectedOptions.selected[0]?.value">Next</button>
      </mat-action-row>
  </mat-expansion-panel>
  </mat-accordion>
</div>
<div #results *ngIf="currentQ>=numQuestions" class="results">
  <h4 class="mat-display-1"> You scored {{ score }} / {{ numQuestions }}!</h4>
  <div class="action-row">
    <button mat-button color="primary" routerLink="/home" (click)="restart()">Learn More! </button>
    <button mat-button color="primary" routerLink="/quiz" (click)="restart()">Play Again! </button>
  </div>
</div>
